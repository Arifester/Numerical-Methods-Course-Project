<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Metode Secant</title>

  <!-- Tailwind CSS via CDN -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- File CSS Lokal -->
  <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body class="bg-gray-100 text-gray-800">
  <div class="max-w-3xl mx-auto p-6 bg-white shadow-lg mt-10 rounded-lg">
    <h1 class="text-2xl font-bold mb-4">Metode Secant</h1>

    <form method="POST" class="space-y-4">
      <div>
        <label class="block font-semibold">Fungsi f(x)</label>
        <input type="text" name="function" required class="input" placeholder="Contoh: x**2 - 2">
      </div>
      <div class="grid grid-cols-2 gap-4">
        <div>
          <label class="block font-semibold">Tebakan Awal x0</label>
          <input type="number" step="any" name="x0" required class="input">
        </div>
        <div>
          <label class="block font-semibold">Tebakan Awal x1</label>
          <input type="number" step="any" name="x1" required class="input">
        </div>
      </div>
      <div>
        <label class="block font-semibold">Maksimal Iterasi</label>
        <input type="number" name="max_iter" required class="input" min="1">
      </div>
      <button type="submit" class="btn">Hitung</button>
    </form>

    {% if error %}
      <div class="mt-4 text-red-500 font-semibold">{{ error }}</div>
    {% endif %}

    {% if results %}
      <div class="mt-6">
        <h2 class="text-xl font-bold mb-2">Hasil Iterasi:</h2>
        <table class="table-auto w-full text-left border">
          <thead>
            <tr>
              <th class="px-4 py-2 border">Iterasi</th>
              <th class="px-4 py-2 border">x</th>
              <th class="px-4 py-2 border">f(x)</th>
              <th class="px-4 py-2 border">Error</th>
            </tr>
          </thead>
          <tbody>
            {% for r in results %}
            <tr class="border-t">
              <td class="px-4 py-2">{{ r.iter }}</td>
              <td class="px-4 py-2">{{ '%.6f'|format(r.x) }}</td>
              <td class="px-4 py-2">{{ '%.6f'|format(r.f_x) }}</td>
              <td class="px-4 py-2">{{ '%.6f'|format(r.error) }}</td>
            </tr>
            {% endfor %}
          </tbody>
        </table>
      </div>
    {% endif %}
  </div>

  <!-- File JS Lokal -->
  <script src="{{ url_for('static', filename='script.js') }}"></script>
</body>
</html>
